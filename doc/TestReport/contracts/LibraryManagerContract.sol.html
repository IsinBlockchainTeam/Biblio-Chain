<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/LibraryManagerContract.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">contracts/</a> LibraryManagerContract.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>101/101</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>114/114</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>41/41</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>117/117</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">231×</span>
<span class="cline-any cline-yes">231×</span>
<span class="cline-any cline-yes">231×</span>
<span class="cline-any cline-yes">231×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">231×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">231×</span>
<span class="cline-any cline-yes">231×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">231×</span>
<span class="cline-any cline-yes">231×</span>
<span class="cline-any cline-yes">231×</span>
<span class="cline-any cline-yes">231×</span>
<span class="cline-any cline-yes">231×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">420×</span>
<span class="cline-any cline-yes">409×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">374×</span>
<span class="cline-any cline-yes">364×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">140×</span>
<span class="cline-any cline-yes">140×</span>
<span class="cline-any cline-yes">130×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">448×</span>
<span class="cline-any cline-yes">423×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">377×</span>
<span class="cline-any cline-yes">372×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">782×</span>
<span class="cline-any cline-yes">772×</span>
<span class="cline-any cline-yes">772×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">187×</span>
<span class="cline-any cline-yes">187×</span>
<span class="cline-any cline-yes">186×</span>
<span class="cline-any cline-yes">186×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">89×</span>
<span class="cline-any cline-yes">89×</span>
<span class="cline-any cline-yes">88×</span>
<span class="cline-any cline-yes">88×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">48×</span>
<span class="cline-any cline-yes">48×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">48×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">46×</span>
<span class="cline-any cline-yes">46×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">42×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">33×</span>
<span class="cline-any cline-yes">33×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">33×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">31×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">31×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">31×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">193×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">33×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">79×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">18×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">62×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">269×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">269×</span>
<span class="cline-any cline-yes">264×</span>
<span class="cline-any cline-yes">264×</span>
<span class="cline-any cline-yes">264×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">269×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;
&nbsp;
import "./User.sol";
import "./OwnerGovernance.sol";
import "./BookFactory.sol";
import "./PausableController.sol";
&nbsp;
/**
 * @title LibraryManagerContract
 * @dev Single point of entry for the library system. Initializes and manages all other contracts.
 * Now includes pausable functionality for emergency situations and enhanced governance.
 */
contract LibraryManagerContract {
    // System contracts
    UserTrustSystem public userSystem;
    OwnerGovernance public governance;
    BookFactory public bookFactory;
    PausableController public pausableController;
&nbsp;
    // Events
    event UserRegistered(address indexed user);
    event BookCreated(uint256 indexed tokenId, BookFactory.BookType bookType);
    event BookBorrowed(uint256 indexed tokenId, address indexed borrower);
    event BookReturned(uint256 indexed tokenId, address indexed borrower);
    event BookReturnedByThirdParty(uint256 indexed tokenId, address indexed returner, address indexed borrower);
    event BookPurchased(uint256 indexed tokenId, address indexed buyer, address indexed seller);
    event BookRated(uint256 indexed tokenId, address indexed rater, uint256 rating);
    event ProposalRejected(uint256 indexed proposalId, address indexed rejecter);
&nbsp;
    constructor() {
    }
&nbsp;
    function initialize(
        address userSystemAddress,
        address governanceAddress,
        address bookFactoryAddress,
        address pausableControllerAddress
    ) public {
        userSystem = UserTrustSystem(userSystemAddress);
        governance = OwnerGovernance(governanceAddress);
        bookFactory = BookFactory(bookFactoryAddress);
        pausableController = PausableController(pausableControllerAddress);
&nbsp;
        // Authorize rentable and sellable book contracts
        (address rentable, address sellable) = bookFactory.getBookContractAddresses();
&nbsp;
        userSystem.registerUser(msg.sender);
        userSystem.addSystemOwner(msg.sender);
&nbsp;
        userSystem.addAuthorizedContract(address(this));          // LibraryManager
        userSystem.addAuthorizedContract(address(governance));    // OwnerGovernance
        userSystem.addAuthorizedContract(address(rentable));      // RentableBook
        userSystem.addAuthorizedContract(address(sellable));      // SellableBook
        userSystem.addAuthorizedContract(address(pausableController)); // PausableController
    }
&nbsp;
    // Modifiers
    modifier onlyRegistered() {
        require(userSystem.isRegistered(msg.sender), "LibraryManager: user not registered");
        _;
    }
&nbsp;
    modifier notBanned() {
        require(!userSystem.isBanned(msg.sender), "LibraryManager: user is banned");
        _;
    }
&nbsp;
    modifier bookExists(uint256 tokenId) {
        (bool exists, ) = bookFactory.getBookInfo(tokenId);
        require(exists, "LibraryManager: book does not exist");
        _;
    }
&nbsp;
    modifier onlySystemOwner() {
        require(userSystem.isSystemOwner(msg.sender), "LibraryManager: not a system owner");
        _;
    }
&nbsp;
    // New modifier for pause functionality
    modifier whenNotPaused(PausableController.OperationType operationType) {
        require(!pausableController.isOperationPaused(operationType), "LibraryManager: operation is paused");
        _;
    }
&nbsp;
    /**
     * @dev Register a new user in the system
     */
    function registerUser() external {
        require(!userSystem.isRegistered(msg.sender), "LibraryManager: already registered");
        userSystem.registerUser(msg.sender);
        emit UserRegistered(msg.sender);
    }
&nbsp;
    /**
     * @dev Create a new rentable book
     * @param ipfsMetadata IPFS CID containing book metadata
     * @param depositAmount The deposit amount required to borrow the book (in wei)
     * @param lendingPeriod The lending period in days
     * @return tokenId The token ID of the newly created book
     */
    function createRentableBook(
        string memory ipfsMetadata,
        uint256 depositAmount,
        uint256 lendingPeriod
    ) external onlyRegistered notBanned whenNotPaused(PausableController.OperationType.Rentable) returns (uint256) {
        userSystem.checkIfSpam(msg.sender);
        uint256 tokenId = bookFactory.createRentableBook(msg.sender, ipfsMetadata, depositAmount, lendingPeriod);
        emit BookCreated(tokenId, BookFactory.BookType.Rentable);
        return tokenId;
    }
&nbsp;
    /**
     * @dev Create a new sellable book
     * @param ipfsMetadata IPFS CID containing book metadata
     * @param price The sale price (in wei)
     * @return tokenId The token ID of the newly created book
     */
    function createSellableBook(
        string memory ipfsMetadata,
        uint256 price
    ) external onlyRegistered notBanned whenNotPaused(PausableController.OperationType.Sellable) returns (uint256) {
        userSystem.checkIfSpam(msg.sender);
        uint256 tokenId = bookFactory.createSellableBook(msg.sender, ipfsMetadata, price);
        emit BookCreated(tokenId, BookFactory.BookType.Sellable);
        return tokenId;
    }
&nbsp;
    /**
     * @dev Borrow a book
     * @param tokenId The token ID of the book to borrow
     */
    function borrowBook(uint256 tokenId) external payable onlyRegistered notBanned bookExists(tokenId) whenNotPaused(PausableController.OperationType.Borrowing) {
        userSystem.checkIfSpam(msg.sender);
        (address contractAddress, BookFactory.BookType bookType) = bookFactory.getBookContract(tokenId);
&nbsp;
        // Ensure the book is rentable
        require(bookType == BookFactory.BookType.Rentable, "LibraryManager: book is not rentable");
&nbsp;
        // Borrow the book
        RentableBook rentable = RentableBook(contractAddress);
        rentable.borrowBook{value: msg.value}(msg.sender, tokenId);
&nbsp;
        emit BookBorrowed(tokenId, msg.sender);
    }
&nbsp;
    /**
     * @dev Return a borrowed book (handles both normal and overdue returns)
     * @param tokenId The token ID of the book to return
     */
    function returnBook(uint256 tokenId) external onlyRegistered bookExists(tokenId) whenNotPaused(PausableController.OperationType.Returning) {
        userSystem.checkIfSpam(msg.sender);
        (address contractAddress, BookFactory.BookType bookType) = bookFactory.getBookContract(tokenId);
&nbsp;
        // Ensure the book is rentable
        require(bookType == BookFactory.BookType.Rentable, "LibraryManager: book is not rentable");
&nbsp;
        RentableBook rentable = RentableBook(contractAddress);
&nbsp;
        // Ottieni i dati del libro in prestito
        (Book.BookData memory baseData, RentableBook.RentalData memory rentalData) = rentable.getFullBookData(tokenId);
&nbsp;
        if (rentalData.borrower == msg.sender) {
            // Normal return by borrower
            rentable.returnBook(msg.sender, tokenId);
            emit BookReturned(tokenId, msg.sender);
        } else {
            // Check if book is overdue and caller is trying to help return it
            uint256 dueDate = rentalData.startDate + (rentalData.lendingPeriod * 1 days);
            require(block.timestamp &gt; dueDate, "LibraryManager: only borrower can return this book");
&nbsp;
            address borrower = rentalData.borrower;
&nbsp;
            // Return the overdue book
            rentable.returnOverdueBook(msg.sender, tokenId);
            emit BookReturnedByThirdParty(tokenId, msg.sender, borrower);
        }
    }
&nbsp;
    /**
     * @dev Buy a book
     * @param tokenId The token ID of the book to buy
     */
    function buyBook(uint256 tokenId) external payable onlyRegistered notBanned bookExists(tokenId) whenNotPaused(PausableController.OperationType.Purchasing) {
        userSystem.checkIfSpam(msg.sender);
        (address contractAddress, BookFactory.BookType bookType) = bookFactory.getBookContract(tokenId);
&nbsp;
        address seller = IERC721(contractAddress).ownerOf(tokenId);
&nbsp;
        // Ensure the book is sellable
        require(bookType == BookFactory.BookType.Sellable, "LibraryManager: book is not for sale");
&nbsp;
        // Buy the book
        SellableBook sellable = SellableBook(contractAddress);
        sellable.buyBook{value: msg.value}(msg.sender, tokenId);
&nbsp;
        emit BookPurchased(tokenId, msg.sender, seller);
    }
&nbsp;
    /**
     * @dev Rate a rentable book (can only be called by someone who has borrowed it)
     * @param tokenId The token ID of the book to rate
     * @param rating The rating value (0-500, representing 0-5 with 2 decimal places)
     */
    function rateRentableBook(uint256 tokenId, uint256 rating) external onlyRegistered notBanned bookExists(tokenId) {
        userSystem.checkIfSpam(msg.sender);
        (address contractAddress, BookFactory.BookType bookType) = bookFactory.getBookContract(tokenId);
&nbsp;
        // Ensure the book is rentable
        require(bookType == BookFactory.BookType.Rentable, "LibraryManager: book is not rentable");
&nbsp;
        // Get the rentable book contract
        RentableBook rentable = RentableBook(contractAddress);
&nbsp;
        // Rate the book
        rentable.rateBook(msg.sender, tokenId, rating);
&nbsp;
        emit BookRated(tokenId, msg.sender, rating);
    }
&nbsp;
    /**
     * @dev Rate a sellable book (can only be called by someone who has purchased it)
     * @param tokenId The token ID of the book to rate
     * @param rating The rating value (0-500, representing 0-5 with 2 decimal places)
     */
    function rateSellableBook(uint256 tokenId, uint256 rating) external onlyRegistered notBanned bookExists(tokenId) {
        userSystem.checkIfSpam(msg.sender);
        (address contractAddress, BookFactory.BookType bookType) = bookFactory.getBookContract(tokenId);
&nbsp;
        // Ensure the book is sellable
        require(bookType == BookFactory.BookType.Sellable, "LibraryManager: book is not sellable");
&nbsp;
        // Get the sellable book contract
        SellableBook sellable = SellableBook(contractAddress);
&nbsp;
        // Rate the book
        sellable.rateBook(msg.sender, tokenId, rating);
&nbsp;
        emit BookRated(tokenId, msg.sender, rating);
    }
&nbsp;
    /**
     * @dev Get the rating of a book
     * @param tokenId The token ID of the book
     * @return avgRating The average rating (0-500, representing 0-5 with 2 decimal places)
     * @return count The number of ratings
     */
    function getBookRating(uint256 tokenId) external view bookExists(tokenId) returns (uint256 avgRating, uint256 count) {
        (address contractAddress, ) = bookFactory.getBookContract(tokenId);
&nbsp;
        // Both RentableBook and SellableBook inherit from Book, so we can cast to Book
        Book bookContract = Book(contractAddress);
&nbsp;
        return bookContract.getBookRating(tokenId);
    }
&nbsp;
    /**
     * @dev Check if a user has already rated a book
     * @param tokenId The token ID of the book
     * @param user The address of the user
     * @return Whether the user has rated the book
     */
    function hasUserRatedBook(uint256 tokenId, address user) external view bookExists(tokenId) returns (bool) {
        (address contractAddress, ) = bookFactory.getBookContract(tokenId);
&nbsp;
        // Both RentableBook and SellableBook inherit from Book, so we can cast to Book
        Book bookContract = Book(contractAddress);
&nbsp;
        return bookContract.hasRatedBook(tokenId, user);
    }
&nbsp;
    // Funzioni di controllo per il PausableController
&nbsp;
    /**
     * @dev Pause a specific operation type
     * @param operationType The type of operation to pause
     */
    function pauseOperation(PausableController.OperationType operationType) external onlySystemOwner {
        pausableController.pauseOperation(operationType);
    }
&nbsp;
    /**
     * @dev Unpause a specific operation type
     * @param operationType The type of operation to unpause
     */
    function unpauseOperation(PausableController.OperationType operationType) external onlySystemOwner {
        pausableController.unpauseOperation(operationType);
    }
&nbsp;
    /**
     * @dev Pause all operations
     */
    function pauseAll() external onlySystemOwner {
        pausableController.pauseAll();
    }
&nbsp;
    /**
     * @dev Unpause all operations
     */
    function unpauseAll() external onlySystemOwner {
        pausableController.unpauseAll();
    }
&nbsp;
    /**
     * @dev Check if an operation is paused
     * @param operationType The type of operation to check
     * @return True if the operation is paused
     */
    function isOperationPaused(PausableController.OperationType operationType) external view returns (bool) {
        return pausableController.isOperationPaused(operationType);
    }
&nbsp;
    /**
     * @dev Check if all operations are paused
     * @return True if all operations are paused
     */
    function areAllPaused() external view returns (bool) {
        return pausableController.areAllPaused();
    }
&nbsp;
    /**
     * @dev Get book details
     * @param tokenId The token ID of the book
     * @return contractAddress The contract address
     * @return bookType The book type (rentable/sellable)
     * @return bookData The book data
     */
    function getBookDetails(uint256 tokenId) external view bookExists(tokenId) returns (
        address contractAddress,
        BookFactory.BookType bookType,
        bytes memory bookData
    ) {
        (contractAddress, bookType) = bookFactory.getBookContract(tokenId);
&nbsp;
        if (bookType == BookFactory.BookType.Rentable) {
            RentableBook rentable = RentableBook(contractAddress);
            (Book.BookData memory baseData, RentableBook.RentalData memory rentalData) =
                                rentable.getFullBookData(tokenId);
&nbsp;
            // Pack the data into bytes
            bookData = abi.encode(baseData, rentalData);
        } else {
            SellableBook sellable = SellableBook(contractAddress);
            (Book.BookData memory baseData, SellableBook.SaleData memory saleData) =
                                sellable.getFullBookData(tokenId);
&nbsp;
            // Pack the data into bytes
            bookData = abi.encode(baseData, saleData);
        }
&nbsp;
        return (contractAddress, bookType, bookData);
    }
&nbsp;
    /**
     * @dev Get all book IDs
     * @return Array of all book token IDs
     */
    function getAllBookIds() external view returns (uint256[] memory) {
        return bookFactory.getAllBookIds();
    }
&nbsp;
    /**
     * @dev Get a paginated list of book IDs
     * @param offset The starting index
     * @param limit The maximum number of books to return
     * @return Array of book token IDs
     */
    function getBookIdsPaginated(uint256 offset, uint256 limit) external view returns (uint256[] memory) {
        return bookFactory.getBookIdsPaginated(offset, limit);
    }
&nbsp;
    /**
     * @dev Set the reward percentage for returning overdue books
     * @param percentage The new percentage (0-100)
     */
    function setReturnerRewardPercentage(uint256 percentage) external onlySystemOwner {
        (address rentableAddress, ) = bookFactory.getBookContractAddresses();
        RentableBook rentable = RentableBook(rentableAddress);
        rentable.setReturnerRewardPercentage(percentage);
    }
&nbsp;
    /**
     * @dev Governance: propose adding a new system owner
     * @param newOwner Address to add as system owner
     */
    function proposeAddOwner(address newOwner) external onlySystemOwner returns (uint256) {
        return governance.proposeAddOwner(msg.sender, newOwner);
    }
&nbsp;
    /**
     * @dev Governance: propose removing a system owner
     * @param owner Address to remove as system owner
     */
    function proposeRemoveOwner(address owner) external onlySystemOwner returns (uint256) {
        return governance.proposeRemoveOwner(msg.sender, owner);
    }
&nbsp;
    /**
     * @dev Governance: approve a proposal
     * @param proposalId ID of the proposal
     */
    function approveProposal(uint256 proposalId) external onlySystemOwner {
        governance.approveProposal(msg.sender, proposalId);
    }
&nbsp;
    function hasVoted(uint proposalId) external view onlySystemOwner returns(bool){
        return governance.hasVoted(proposalId, msg.sender);
    }
&nbsp;
&nbsp;
    function getProposalInfo(uint256 proposalId) onlySystemOwner external view returns (
        uint256 id,
        uint proposalType,
        address target,
        address proposer,
        uint256 approvalCount,
        uint256 rejectionCount
    ) {
        return governance.getProposalInfo(proposalId);
    }
&nbsp;
    /**
     * @dev Governance: reject a proposal
     * @param proposalId ID of the proposal
     */
    function rejectProposal(uint256 proposalId) external onlySystemOwner {
        governance.rejectProposal(msg.sender, proposalId);
    }
&nbsp;
    /**
     * @dev Governance: check if can execute a proposal if it meets criteria
     * @param proposalId ID of the proposal
     */
    function canExecuteProposal(uint256 proposalId) external view onlySystemOwner returns(bool){
        return governance.canExecute(proposalId);
    }
&nbsp;
    /**
     * @dev Get all pending governance proposals
     * @return Array of pending proposal IDs
     */
    function getPendingProposals() external view onlySystemOwner returns (uint256[] memory) {
        return governance.getPendingProposals();
    }
&nbsp;
&nbsp;
    /**
     * @dev Admin: unban a user
     * @param user Address of the user to unban
     */
    function unbanUser(address user) external onlySystemOwner {
        userSystem.unbanUser(user);
    }
&nbsp;
    /**
     * @dev Admin: ban a user
     * @param user Address of the user to ban
     */
    function banUser(address user) external onlySystemOwner {
        userSystem.banUser(user);
    }
&nbsp;
    /**
     * @dev Get user information
     * @param user Address to check
     * @return isRegistered If the user is registered
     * @return isBanned If the user is banned
     * @return trustLevel The trust level of the user (0-5)
     * @return isSystemOwner If the user is a system owner
     */
    function getUserInfo(address user) external view returns (
        bool isRegistered,
        bool isBanned,
        uint8 trustLevel,
        bool isSystemOwner
    ) {
        isRegistered = userSystem.isRegistered(user);
&nbsp;
        // Only query these if user is registered
        if (isRegistered) {
            isBanned = userSystem.isBanned(user);
            trustLevel = userSystem.getTrustLevel(user);
            isSystemOwner = userSystem.isSystemOwner(user);
        }
&nbsp;
        return (isRegistered, isBanned, trustLevel, isSystemOwner);
    }
&nbsp;
    /**
     * @dev Get total number of books in the system
     * @return Total number of books
     */
    function getTotalBooks() public view returns(uint) {
        return bookFactory.totalBooks();
    }
    /**
 * @dev Get all registered users
     * @return Array of all registered user addresses
     */
    function getAllUsers() external view onlySystemOwner returns (address[] memory) {
        return userSystem.getAllUsers();
    }
&nbsp;
/**
 * @dev Get total number of registered users
     * @return Total number of users
     */
    function getTotalUsers() external view returns (uint256) {
        return userSystem.totalUsers();
    }
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Fri Apr 11 2025 12:51:10 GMT+0200 (Central European Summer Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
